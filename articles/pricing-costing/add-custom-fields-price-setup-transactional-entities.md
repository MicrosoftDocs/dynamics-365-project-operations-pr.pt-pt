---
title: Adicionar campos personalizados obrigatórios às entidades de configuração de preços e transacionais
description: Esta tópico fornece informações sobre como adicionar referências de campo personalizadas necessárias às entidades e a formulários e vistas.
author: rumant
manager: AnnBe
ms.date: 09/18/2020
ms.topic: article
ms.prod: ''
ms.service: dynamics-365-customerservice
audience: Application User
ms.reviewer: kfend
ms.search.scope: ''
ms.custom: ''
ms.assetid: ''
ms.search.region: Global
ms.search.industry: Service industries
ms.author: suvaidya
ms.dyn365.ops.version: ''
ms.search.validFrom: 2020-10-01
ms.openlocfilehash: e589465eb98723b3b49c5d96e263eb3abf15eb2c
ms.sourcegitcommit: 5c4c9bf3ba018562d6cb3443c01d550489c415fa
ms.translationtype: HT
ms.contentlocale: pt-PT
ms.lasthandoff: 10/16/2020
ms.locfileid: "4082444"
---
# <a name="add-required-custom-fields-to-price-setup-and-transactional-entities"></a><span data-ttu-id="ddef0-103">Adicionar campos personalizados obrigatórios às entidades de configuração de preços e transacionais</span><span class="sxs-lookup"><span data-stu-id="ddef0-103">Add required custom fields to price setup and transactional entities</span></span>

<span data-ttu-id="ddef0-104">_**Aplica-se a:** Operações do projeto para cenários baseados em recursos/sem stock, implantação Lite - negócio para faturação pró-forma_</span><span class="sxs-lookup"><span data-stu-id="ddef0-104">_**Applies To:** Project Operations for resource/non-stocked based scenarios, Lite deployment - deal to proforma invoicing_</span></span>

<span data-ttu-id="ddef0-105">Este tópico parte do princípio de que concluiu os procedimentos no tópico [Criar campos e entidades personalizados para utilizar como dimensões de preços](create-custom-fields-entities-pricing-dimensions.md).</span><span class="sxs-lookup"><span data-stu-id="ddef0-105">This topic assumes that you have completed the procedures in the topic, [Create custom fields and entities to be used as pricing dimensions](create-custom-fields-entities-pricing-dimensions.md).</span></span> <span data-ttu-id="ddef0-106">Se não tiver concluído esses procedimentos, volte a concluí-los e, em seguida, volte a este tópico.</span><span class="sxs-lookup"><span data-stu-id="ddef0-106">If you haven't completed those procedures, go back and complete them and then return to this topic.</span></span> 

<span data-ttu-id="ddef0-107">Neste tópico, os procedimentos irão mostrar-lhe como adicionar as referências de campo personalizado necessárias a entidades e aos elementos da interface de utilizador (IU), tais como formulários e vistas.</span><span class="sxs-lookup"><span data-stu-id="ddef0-107">In this topic, the procedures will show you how to add the required custom field references to entities and to the user interface (UI) elements such as forms and views.</span></span>

## <a name="add-custom-pricing-dimension-fields"></a><span data-ttu-id="ddef0-108">Adicionar campos de dimensão de preços personalizados</span><span class="sxs-lookup"><span data-stu-id="ddef0-108">Add custom pricing dimension fields</span></span> 
<span data-ttu-id="ddef0-109">Depois de os campos e as entidades personalizados terem sido criados, o passo seguinte consiste em que as entidades de configuração de preços e transacionais tomem conhecimento de quaisquer entidades personalizadas ou conjuntos de opções criando campos de referência.</span><span class="sxs-lookup"><span data-stu-id="ddef0-109">After custom fields and entities have been created, the next step is to make price setup and transactional entities aware of any custom entities or option sets by creating reference fields.</span></span> <span data-ttu-id="ddef0-110">Dependendo de se a lista de dimensões de definição de preços inclui dimensões do conjunto de opções ou dimensões de entidades ou ambas, siga apenas os passos indicados nas **Dimensões de definição de preços personalizadas baseadas em conjuntos de opções** ou nas **Dimensões de definições de preços personalizadas baseadas em entidades** , ou ambas, respetivamente.</span><span class="sxs-lookup"><span data-stu-id="ddef0-110">Depending on whether your pricing dimensions list includes option set dimensions or entity dimensions or both, follow only the steps in **Option set-based custom pricing dimensions** or **Entity-based custom pricing dimensions** , or both, respectively.</span></span>

### <a name="option-set-based-custom-pricing-dimensions"></a><span data-ttu-id="ddef0-111">Dimensões de definição de preços personalizadas baseadas em conjuntos de opções</span><span class="sxs-lookup"><span data-stu-id="ddef0-111">Option set-based custom pricing dimensions</span></span>
<span data-ttu-id="ddef0-112">Quando uma dimensão de definição de preços personalizada é baseada em conjuntos de opções, é adicionada como um campo às entidades principais.</span><span class="sxs-lookup"><span data-stu-id="ddef0-112">When a custom pricing dimension is option set-based, add it as a field to key entities.</span></span> <span data-ttu-id="ddef0-113">No seguinte procedimento, a **Localização de Trabalho do Recurso** e as **Horas de Trabalho do Recurso** são utilizadas como as dimensões de definição de preços baseadas em conjuntos de opções.</span><span class="sxs-lookup"><span data-stu-id="ddef0-113">In the following procedure, **Resource Work Location** and **Resource Work Hours** are used as the option set-based pricing dimensions.</span></span> <span data-ttu-id="ddef0-114">Estas têm de ser adicionadas primeiro como campos às entidades de definição de preços, **Preço da Função** e **Margem de Lucro do Preço da Função**.</span><span class="sxs-lookup"><span data-stu-id="ddef0-114">These must first be added as fields to the pricing entities, **Role Price** and **Role Price Markup**.</span></span>

1. <span data-ttu-id="ddef0-115">Nas operações do Projeto, selecione **Definições** > **Soluções** e faça clique duplo nas dimensões de preços do **\<your organization name>**.</span><span class="sxs-lookup"><span data-stu-id="ddef0-115">In Project operations, select **Settings** > **Solutions** , and double-click **\<your organization name> pricing dimensions**.</span></span> 
2. <span data-ttu-id="ddef0-116">No Explorador de Soluções, no painel de navegação esquerdo, selecione **Entidades > Preço da Função**.</span><span class="sxs-lookup"><span data-stu-id="ddef0-116">In Solution Explorer, on the left navigation pane, select **Entities > Role Price**.</span></span>
3. <span data-ttu-id="ddef0-117">Expanda a entidade **Preço da Função** e selecione **Campos**.</span><span class="sxs-lookup"><span data-stu-id="ddef0-117">Expand the entity **Role Price** and select **Fields**.</span></span>
4. <span data-ttu-id="ddef0-118">Selecione **Novo** para criar um novo campo denominado **Localização de Trabalho do Recurso** e selecione **Conjunto de opções** como o tipo de campo.</span><span class="sxs-lookup"><span data-stu-id="ddef0-118">Select **New** to create a new field called **Resource Work Location** and select **Option set** as the field type.</span></span> 
5. <span data-ttu-id="ddef0-119">Selecione **Utilizar um conjunto de opções existente** , selecione o conjunto de opções de **Localização de Trabalho do Recurso** e, em seguida, selecione **Guardar**.</span><span class="sxs-lookup"><span data-stu-id="ddef0-119">Select **Use an existing Option set** , select the **Resource Work Location** option set, and then select **Save**.</span></span>
6. <span data-ttu-id="ddef0-120">Repita os passos 1 a 5 para adicionar este campo à entidade **Margem de Lucro do Preço da Função**.</span><span class="sxs-lookup"><span data-stu-id="ddef0-120">Repeat steps 1 - 5 to add this field to the **Role Price Markup** entity.</span></span> 
7. <span data-ttu-id="ddef0-121">Repita os passos 1 a 5 para o conjunto de opções de **Horas de Trabalho do Recurso**.</span><span class="sxs-lookup"><span data-stu-id="ddef0-121">Repeat steps 1 - 5 for the **Resource Work Hours** option set.</span></span>

> [!IMPORTANT]
> <span data-ttu-id="ddef0-122">Quando adicionar um campo a mais de uma entidade, utilize o mesmo nome de campo em todas as entidades.</span><span class="sxs-lookup"><span data-stu-id="ddef0-122">When you add a field to more than one entity, use the same field name across all of the entities.</span></span> 

<span data-ttu-id="ddef0-123">Nas fases de vendas e estimativas de um projeto, as estimativas do esforço de trabalho necessário para concluir o trabalho **Local** e **No Local** , nas **Horas normais** e nas **Horas extraordinárias** são utilizadas para estimar o valor da Proposta/Projeto.</span><span class="sxs-lookup"><span data-stu-id="ddef0-123">In the sales and estimation phases for a project, estimates of the work effort that is required to complete **Local** and **Onsite** work, in **Regular hours** and **Overtime hours**  are used to estimate the value of the Quote/Project.</span></span> <span data-ttu-id="ddef0-124">Os campos **Localização de Trabalho do Recurso** e **Horas de Trabalho do Recurso** serão adicionados às entidades de estimativa, **Detalhe de Linha de Proposta** , **Detalhe de Item de Contrato** , **Membro da Equipa do Projeto** e **Linha de Estimativa**.</span><span class="sxs-lookup"><span data-stu-id="ddef0-124">The fields **Resource Work Location** and **Resource Work Hours** will be added to the estimation entities, **Quote Line Detail** , **Contract Line detail** , **Project Team Member** , and **Estimate Line**.</span></span>

1. <span data-ttu-id="ddef0-125">Nas operações do Projeto, selecione **Definições** > **Soluções** e, de seguida, faça clique duplo nas dimensões de preços do **\<your organization name>**.</span><span class="sxs-lookup"><span data-stu-id="ddef0-125">In Project operations, select **Settings** > **Solutions** , and then double-click **\<your organization name> pricing dimensions**.</span></span> 
2. <span data-ttu-id="ddef0-126">No Explorador de Soluções, no painel de navegação esquerdo, selecione **Entidades > Detalhe de Linha de Proposta**.</span><span class="sxs-lookup"><span data-stu-id="ddef0-126">In Solution Explorer, on the left navigation pane, select **Entities > Quote Line Detail**.</span></span>
3. <span data-ttu-id="ddef0-127">Expanda a entidade **Detalhe de Linha de Proposta** e selecione **Campos**.</span><span class="sxs-lookup"><span data-stu-id="ddef0-127">Expand the **Quote Line Detail** entity, and select **Fields**.</span></span>
4. <span data-ttu-id="ddef0-128">Selecione **Novo** para criar um novo campo denominado **Localização de Trabalho do Recurso** e selecione o tipo de campo, **Conjunto de opções**.</span><span class="sxs-lookup"><span data-stu-id="ddef0-128">Select **New** to create a new field called **Resource Work Location** and select the field type, **Option set**.</span></span> 
5. <span data-ttu-id="ddef0-129">Selecione **Utilizar um conjunto de opções existente** e **Localização de Trabalho do Recurso** e, em seguida, selecione **Guardar**.</span><span class="sxs-lookup"><span data-stu-id="ddef0-129">Select **Use an existing Option set** and **Resource Work Location** , and then select **Save**.</span></span>
6. <span data-ttu-id="ddef0-130">Repita os passos 1 a 5 para adicionar este campo às entidades **Detalhe de Item de Contrato do Projeto** , **Membro da Equipa do Projeto** e **Linha de Estimativa**.</span><span class="sxs-lookup"><span data-stu-id="ddef0-130">Repeat steps 1 - 5 to add this field to the **Project Contract line detail** , **Project Team Member** , and **Estimate Line** entities.</span></span>
7. <span data-ttu-id="ddef0-131">Repita os passos 1 a 6 para o conjunto de opções de **Horas de Trabalho do Recurso**.</span><span class="sxs-lookup"><span data-stu-id="ddef0-131">Repeat steps 1 - 6 for the **Resource Work Hours** option set.</span></span> 

<span data-ttu-id="ddef0-132">Para a entrega e a faturação, o trabalho concluído tem de ter um preço definido com precisão para selecionar se foi efetuado **Localmente** ou **No Local** e se foi concluído durante as **Horas normais** ou nas **Horas Extraordinárias** nos Valores Reais do Projeto.</span><span class="sxs-lookup"><span data-stu-id="ddef0-132">For delivery and invoicing, completed work needs to be accurately priced to select whether it was performed **Local** or **Onsite** , and whether it was completed during **Regular hours** or **Overtime** on the Project Actuals.</span></span> <span data-ttu-id="ddef0-133">Os campos **Localização de Trabalho do Recurso** e **Horas de Trabalho do Recurso** devem ser adicionados às entidades **Entrada de Tempo** , **Valor Real** , **Detalhe de Linha de Fatura** e **Linha do Diário**.</span><span class="sxs-lookup"><span data-stu-id="ddef0-133">The **Resource Work Location** and **Resource Work hours** fields should be added to the **Time Entry** , **Actual** , **Invoice Line Detail** , and **Journal Line** entities.</span></span>

1. <span data-ttu-id="ddef0-134">Selecione **Definições** > **Soluções** e, de seguida, faça clique duplo nas dimensões de preços do **\<your organization name>**.</span><span class="sxs-lookup"><span data-stu-id="ddef0-134">Select **Settings** > **Solutions** , and then double-click **\<your organization name> pricing dimensions**.</span></span>
2. <span data-ttu-id="ddef0-135">No Explorador de Soluções, no painel de navegação esquerdo, selecione **Entidades > Entrada de Tempo**.</span><span class="sxs-lookup"><span data-stu-id="ddef0-135">In Solution Explorer, on the left navigation pane, select  **Entities > Time Entry**.</span></span>
3. <span data-ttu-id="ddef0-136">Expanda a entidade **Detalhe de Linha de Proposta** e selecione **Campos**.</span><span class="sxs-lookup"><span data-stu-id="ddef0-136">Expand the **Quote Line Detail** entity, and then select **Fields**.</span></span>
4. <span data-ttu-id="ddef0-137">Selecione **Novo** para criar um novo campo denominado **Localização de Trabalho do Recurso** e selecione **Conjunto de opções** como o tipo de campo.</span><span class="sxs-lookup"><span data-stu-id="ddef0-137">Select **New** to create a new field called **Resource Work Location** and select **Option set** as the field type.</span></span> 
5. <span data-ttu-id="ddef0-138">Selecione **Utilizar um conjunto de opções existente** , selecione o conjunto de opções de **Localização de Trabalho do Recurso** e, em seguida, selecione **Guardar**.</span><span class="sxs-lookup"><span data-stu-id="ddef0-138">Select **Use an existing Option set** , select the **Resource Work Location** option set, and then select **Save**.</span></span>
6. <span data-ttu-id="ddef0-139">Repita os passos 1 a 5 para adicionar este campo às entidades **Valor Real** , **Detalhe de Linha de Fatura** e **Linha do Diário**.</span><span class="sxs-lookup"><span data-stu-id="ddef0-139">Repeat steps 1 - 5 to add this field to the **Actual** , **Invoice Line Detail** , and **Journal Line** entities.</span></span>
7. <span data-ttu-id="ddef0-140">Repita os passos 1 a 6 para o conjunto de opções de **Horas de Trabalho do Recurso**.</span><span class="sxs-lookup"><span data-stu-id="ddef0-140">Repeat steps 1 - 6 for the **Resource Work Hours** option set.</span></span> 

<span data-ttu-id="ddef0-141">Isto conclui as alterações de esquema necessárias para as dimensões personalizadas baseadas em conjuntos de opções.</span><span class="sxs-lookup"><span data-stu-id="ddef0-141">This completes the schema changes required for option set-based custom dimensions.</span></span>

## <a name="entity-based-custom-pricing-dimensions"></a><span data-ttu-id="ddef0-142">Dimensões de definição de preços personalizadas baseadas em entidades</span><span class="sxs-lookup"><span data-stu-id="ddef0-142">Entity-based custom pricing dimensions</span></span>

<span data-ttu-id="ddef0-143">Quando a dimensão de definição de preços personalizada for uma entidade, irá adicionar relações 1:N entre a entidade de dimensão e as entidades principais.</span><span class="sxs-lookup"><span data-stu-id="ddef0-143">When the custom pricing dimension is an entity, you will add 1:N relationships between the dimension entity and key entities.</span></span> <span data-ttu-id="ddef0-144">Utilizando o exemplo de Título Padrão acima, é razoável esperar que cada funcionário receba um título padrão.</span><span class="sxs-lookup"><span data-stu-id="ddef0-144">Using the Standard Title example from above, it is reasonable to expect that each employee is assigned a standard title.</span></span> <span data-ttu-id="ddef0-145">Como resultado, irá precisar de uma relação 1:N a partir do Título Padrão para o Recurso Reservável ou de uma relação N:1 se tiver sido criado a partir do Recurso Reservável para o Título Padrão.</span><span class="sxs-lookup"><span data-stu-id="ddef0-145">SAs a result, you will need a 1:N relationship from Standard Title to Bookable Resource, or a N:1 relationship if it were created from Bookable Resource to Standard Title.</span></span>

1. <span data-ttu-id="ddef0-146">Nas operações do Projeto, selecione **Definições** > **Soluções** e, de seguida, faça clique duplo nas dimensões de preços do **\<your organization name>**.</span><span class="sxs-lookup"><span data-stu-id="ddef0-146">In Project operations, select **Settings** > **Solutions** , and then double-click **\<your organization name> pricing dimensions**.</span></span> 
2. <span data-ttu-id="ddef0-147">No Explorador de Soluções, no painel de navegação esquerdo, selecione **Entidades > Título Padrão**.</span><span class="sxs-lookup"><span data-stu-id="ddef0-147">In Solution Explorer, on the left navigation pane, select **Entities > Standard Title**.</span></span>
3. <span data-ttu-id="ddef0-148">Expanda a entidade **Título Padrão** e selecione **Relações 1:N**.</span><span class="sxs-lookup"><span data-stu-id="ddef0-148">Expand the **Standard Title** entity and select **1:N Relationships**.</span></span>
4. <span data-ttu-id="ddef0-149">Selecione **Novo** para criar uma nova relação 1:N denominada **Título Padrão para Recurso Reservável**.</span><span class="sxs-lookup"><span data-stu-id="ddef0-149">Select **New** to create a new 1:N relationship called **Standard Title to Bookable Resource**.</span></span> <span data-ttu-id="ddef0-150">Introduza as informações necessárias e selecione **Guardar**.</span><span class="sxs-lookup"><span data-stu-id="ddef0-150">Enter the required information, and then select **Save**.</span></span>

<span data-ttu-id="ddef0-151">Também será necessário adicionar o Título Padrão às entidades definição de preços, **Preço da Função** e **Margem de Lucro do Preço da Função**.</span><span class="sxs-lookup"><span data-stu-id="ddef0-151">The Standard Title will also need to be added to Pricing entities, **Role Price** and **Role Price Markup**.</span></span> <span data-ttu-id="ddef0-152">Esta opção também é concluída através da utilização de relações 1:N entre as entidades **Título Padrão** e **Preço da Função** e as entidades **Título Padrão** e **Margem de Lucro do Preço da Função**.</span><span class="sxs-lookup"><span data-stu-id="ddef0-152">This is also completed using 1:N relationships between the **Standard Title** and **Role Price** entities and **Standard Title** and **Role Price Markup** entities.</span></span>

1. <span data-ttu-id="ddef0-153">No Explorador de Soluções, no painel de navegação esquerdo, selecione **Entidades > Título Padrão**.</span><span class="sxs-lookup"><span data-stu-id="ddef0-153">In Solution Explorer, on the left navigation pane, select **Entities > Standard Title**.</span></span>
2. <span data-ttu-id="ddef0-154">Expanda a entidade **Título Padrão** e selecione **Relações 1:N**.</span><span class="sxs-lookup"><span data-stu-id="ddef0-154">Expand the **Standard Title** entity and select **1:N Relationships**.</span></span>
3. <span data-ttu-id="ddef0-155">Selecione **Novo** para criar uma nova relação 1:N denominada **Título Padrão para Preço da Função**.</span><span class="sxs-lookup"><span data-stu-id="ddef0-155">Select **New** to create a new 1:N relationship called **Standard Title to Role Price**.</span></span> <span data-ttu-id="ddef0-156">Introduza as informações necessárias e selecione **Guardar**.</span><span class="sxs-lookup"><span data-stu-id="ddef0-156">Enter the required information, and then select **Save**.</span></span>
4. <span data-ttu-id="ddef0-157">Repita os passos 1 a 4 para criar relações 1:N entre as entidades **Título Padrão** e **Margem de Lucro do Preço da Função**.</span><span class="sxs-lookup"><span data-stu-id="ddef0-157">Repeat steps 1 - 4 to create 1:N relationships between the **Standard Title** and **Role Price Markup** entities,</span></span>

<span data-ttu-id="ddef0-158">Nas fases de vendas e estimativa do projeto, para definir o preço da Proposta/Projeto, são necessárias estimativas do esforço de trabalho para cada título padrão.</span><span class="sxs-lookup"><span data-stu-id="ddef0-158">In the sales and estimation phases for the project, to price the Quote/Project, estimates of the work effort are required for each standard title.</span></span> <span data-ttu-id="ddef0-159">Isto significa que as relações 1:N do Título Padrão para cada uma destas entidades de estimativa são necessárias:</span><span class="sxs-lookup"><span data-stu-id="ddef0-159">This means that 1:N relationships from Standard Title to each of these estimation entities are needed:</span></span> 

- <span data-ttu-id="ddef0-160">**Detalhe de Linha de Proposta**</span><span class="sxs-lookup"><span data-stu-id="ddef0-160">**Quote line Detail**</span></span>
- <span data-ttu-id="ddef0-161">**Detalhe de Item de Contrato do Projeto**</span><span class="sxs-lookup"><span data-stu-id="ddef0-161">**Project Contract Line Detail**</span></span>
- <span data-ttu-id="ddef0-162">**Membro da Equipa do Projeto**</span><span class="sxs-lookup"><span data-stu-id="ddef0-162">**Project Team Member**</span></span>
- <span data-ttu-id="ddef0-163">**Linha de Estimativa**</span><span class="sxs-lookup"><span data-stu-id="ddef0-163">**Estimate Line**</span></span>

5. <span data-ttu-id="ddef0-164">Repita os passos 1 a 5 para criar relações 1:N a partir do **Título Padrão** para o **Detalhe de Linha de Proposta** , **Detalhe de Item de Contrato do Projeto** , **Membro da Equipa do Projeto** e **Linha de Estimativa**.</span><span class="sxs-lookup"><span data-stu-id="ddef0-164">Repeat steps 1 - 5 to create 1:N relationships from **Standard Title** to **Quote line Detail** , **Project Contract Line Detail** , **Project Team Member** , and **Estimate Line**.</span></span>

  <span data-ttu-id="ddef0-165">Nas fases Entrega e Faturação, o trabalho concluído por cada título padrão deve ter o preço definido com precisão nos Valores Reais do Projeto.</span><span class="sxs-lookup"><span data-stu-id="ddef0-165">In the Delivery and Invoicing phases, the work completed by each standard title must be accurately priced on the Project Actuals.</span></span> <span data-ttu-id="ddef0-166">Isto significa que precisa de haver relações 1:N a partir das entidades **Título Padrão** para a **Entrada de Tempo** , **Valor Real** , **Detalhe de Linha de Fatura** e **Linha do Diário**.</span><span class="sxs-lookup"><span data-stu-id="ddef0-166">This means that there needs to be 1:N relationships from **Standard Title** to **Time Entry** , **Actual** , **Invoice Line Detail** , and **Journal Line entities**.</span></span>

6. <span data-ttu-id="ddef0-167">Repita os passos 1 a 6 para criar relações 1:N a partir das entidades **Título Padrão** para a **Entrada de Tempo** , **Valor Real** , **Detalhe de Linha de Fatura** e **Linha do Diário**.</span><span class="sxs-lookup"><span data-stu-id="ddef0-167">Repeat steps 1 - 6 to create 1:N relationships from **Standard Title** to **Time Entry** , **Actual** , **Invoice Line Detail** , and **Journal Line entities**.</span></span>

### <a name="set-up-dimension-value-defaulting-using-the-mappings-features-of-the-platform"></a><span data-ttu-id="ddef0-168">Configurar a predefinição do valor Dimensão utilizando as funcionalidades de mapeamento da plataforma</span><span class="sxs-lookup"><span data-stu-id="ddef0-168">Set up Dimension value defaulting using the mappings features of the platform</span></span>
<span data-ttu-id="ddef0-169">Para a Entrada de Tempo, seria útil que o sistema predefini-se o título padrão na Entrada de Tempo a partir do Recurso Reservável que está a registar a entrada de tempo.</span><span class="sxs-lookup"><span data-stu-id="ddef0-169">For Time Entry, it would be helpful to have the system default the standard title on the Time Entry from the Bookable Resource that is recording the time entry.</span></span> <span data-ttu-id="ddef0-170">Utilize os seguintes passos para adicionar mapeamentos de campos na relação 1:N a partir do **Recurso Reservável** para a **Entrada de Tempo**.</span><span class="sxs-lookup"><span data-stu-id="ddef0-170">Use the following steps to add field mappings on the 1:N relationship from **Bookable Resource** to **Time Entry**.</span></span>

1. <span data-ttu-id="ddef0-171">No Explorador de Soluções, no painel de navegação esquerdo, selecione **Entidades > Título Padrão**.</span><span class="sxs-lookup"><span data-stu-id="ddef0-171">In Solution Explorer, on the left navigation pane, select **Entities > Standard Title**.</span></span>
2. <span data-ttu-id="ddef0-172">Expanda a entidade **Título Padrão** e selecione **Relações 1:N**.</span><span class="sxs-lookup"><span data-stu-id="ddef0-172">Expand the **Standard Title** entity and select **1:N Relationships**.</span></span>
3. <span data-ttu-id="ddef0-173">Faça duplo clique em **Recurso Reservável para Entrada de Tempo**.</span><span class="sxs-lookup"><span data-stu-id="ddef0-173">Double-click **Bookable Resource to Time Entry**.</span></span> <span data-ttu-id="ddef0-174">Na página **Relação** , selecione **Utilizar mapeamentos de campos**.</span><span class="sxs-lookup"><span data-stu-id="ddef0-174">On the **Relationship** page, select **Use Field mappings**.</span></span> 
4. <span data-ttu-id="ddef0-175">Selecione **Novo** para criar um novo mapeamento de campos entre o campo **Título Padrão** na entidade **Recurso Reservável** para o campo de referência **Título Padrão** na entidade **Entrada de Tempo**.</span><span class="sxs-lookup"><span data-stu-id="ddef0-175">Select **New** to create a new field mapping between the **Standard Title** field on the **Bookable Resource** entity to the **Standard Title** reference field on **Time Entry** entity.</span></span> 

<span data-ttu-id="ddef0-176">Isto conclui as alterações de esquema necessárias para as dimensões personalizadas baseadas em entidades.</span><span class="sxs-lookup"><span data-stu-id="ddef0-176">This completes the schema changes required for entity-based custom dimensions.</span></span>

##  <a name="add-custom-fields-to-forms-views-and-business-rules"></a><span data-ttu-id="ddef0-177">Adicionar campos personalizados a formulários, vistas e regras de negócio</span><span class="sxs-lookup"><span data-stu-id="ddef0-177">Add custom fields to forms, views, and business rules</span></span>

<span data-ttu-id="ddef0-178">Depois de ter efetuado todas as alterações de esquema necessárias, o próximo passo é tornar os campos visíveis na IU adicionando os campos aos formulários e às vistas.</span><span class="sxs-lookup"><span data-stu-id="ddef0-178">After you have made all of the required schema changes, the next step is to make the fields visible in the UI by adding the fields to the forms and views.</span></span>

1. <span data-ttu-id="ddef0-179">Abra o formulário ou a vista.</span><span class="sxs-lookup"><span data-stu-id="ddef0-179">Open the form or the view.</span></span> <span data-ttu-id="ddef0-180">No painel de navegação direito, selecione o campo e arraste-o para a tela do formulário.</span><span class="sxs-lookup"><span data-stu-id="ddef0-180">On the right navigation pane, select the field and drag it on to the form canvas.</span></span> 
2. <span data-ttu-id="ddef0-181">Se estiver a editar uma vista, utilize o painel de navegação direito, selecione **Adicionar campos** e na caixa de diálogo **Listagem de Campos** , selecione os campos necessários e selecione **OK**.</span><span class="sxs-lookup"><span data-stu-id="ddef0-181">If you are editing a view, use the right navigation pane, select **Add fields** , and in the **Field listing** dialog box, select the fields that you need and select **Ok**.</span></span>

<span data-ttu-id="ddef0-182">A tabela seguinte fornece uma lista abrangente de formulários e vistas fornecidos com o programa, por entidade, que terão de ser atualizados com os novos campos.</span><span class="sxs-lookup"><span data-stu-id="ddef0-182">The following table provides a comprehensive list of out-of-the-box forms and views, by entity, that will need to be updated with the new fields.</span></span> <span data-ttu-id="ddef0-183">Se tiver formulários ou vistas adicionais nas suas personalizações nestas entidades, adicione os campos novos aos mesmos.</span><span class="sxs-lookup"><span data-stu-id="ddef0-183">If you have any additional views or forms in your customizations on these entities, add the new fields to those as well.</span></span>

| <span data-ttu-id="ddef0-184">Entity</span><span class="sxs-lookup"><span data-stu-id="ddef0-184">Entity</span></span>        | <span data-ttu-id="ddef0-185">Formulários que necessitam do novo campo</span><span class="sxs-lookup"><span data-stu-id="ddef0-185">Forms that need the new field</span></span>   |<span data-ttu-id="ddef0-186">Vistas que necessitam do novo campo</span><span class="sxs-lookup"><span data-stu-id="ddef0-186">Views that need the new field</span></span>      |
| ------------------------------|---------------------------------|----------------------------------|
|  <span data-ttu-id="ddef0-187">Preço da Função</span><span class="sxs-lookup"><span data-stu-id="ddef0-187">Role Price</span></span>|<span data-ttu-id="ddef0-188">• Informação</span><span class="sxs-lookup"><span data-stu-id="ddef0-188">• Information</span></span> |<span data-ttu-id="ddef0-189">• Preços de Categoria de Recurso Ativos</span><span class="sxs-lookup"><span data-stu-id="ddef0-189">• Active Resource Category Prices</span></span><br> <span data-ttu-id="ddef0-190">• Vista Associada de Preço de Categoria de Recurso</span><span class="sxs-lookup"><span data-stu-id="ddef0-190">• Resource Category Price Associated View</span></span>|
|  <span data-ttu-id="ddef0-191">Margem de Lucro do Preço da Função</span><span class="sxs-lookup"><span data-stu-id="ddef0-191">Role Price Markup</span></span>|<span data-ttu-id="ddef0-192">• Informação</span><span class="sxs-lookup"><span data-stu-id="ddef0-192">• Information</span></span>|<span data-ttu-id="ddef0-193">• Margem de Lucro do Preço da Função Ativa</span><span class="sxs-lookup"><span data-stu-id="ddef0-193">• Active Role Price Markup</span></span><br><span data-ttu-id="ddef0-194">• Vista Associada de Margens de Lucro do Preço da Função</span><span class="sxs-lookup"><span data-stu-id="ddef0-194">• Role Price Markup Associated View</span></span>|
|  <span data-ttu-id="ddef0-195">Detalhe de linha de proposta</span><span class="sxs-lookup"><span data-stu-id="ddef0-195">Quote line detail</span></span>|<span data-ttu-id="ddef0-196">• Informações do projeto</span><span class="sxs-lookup"><span data-stu-id="ddef0-196">• Project Information</span></span><br><span data-ttu-id="ddef0-197">• Criação Rápida de Projeto</span><span class="sxs-lookup"><span data-stu-id="ddef0-197">• Project Quick Create</span></span>|<span data-ttu-id="ddef0-198">• Detalhe de Linha de Proposta Ativo</span><span class="sxs-lookup"><span data-stu-id="ddef0-198">• Active Quote Line Detail</span></span><br><span data-ttu-id="ddef0-199">• Detalhes de Linha de Proposta Combinados</span><span class="sxs-lookup"><span data-stu-id="ddef0-199">• Combined Quote Line Details</span></span><br><span data-ttu-id="ddef0-200">• Vista associada de Detalhe de Linha de Proposta</span><span class="sxs-lookup"><span data-stu-id="ddef0-200">• Quote Line Detail associated view</span></span>|
|  <span data-ttu-id="ddef0-201">Detalhe de Item de Contrato do Projeto</span><span class="sxs-lookup"><span data-stu-id="ddef0-201">Project Contract line detail</span></span>|<span data-ttu-id="ddef0-202">• Informações do projeto</span><span class="sxs-lookup"><span data-stu-id="ddef0-202">• Project Information</span></span><br><span data-ttu-id="ddef0-203">• Criação Rápida de Projeto</span><span class="sxs-lookup"><span data-stu-id="ddef0-203">• Project Quick Create</span></span>|<span data-ttu-id="ddef0-204">• Detalhes de Item de Contrato Combinados</span><span class="sxs-lookup"><span data-stu-id="ddef0-204">• Combined Contract Line Details</span></span><br><span data-ttu-id="ddef0-205">• Detalhes de Item de Contrato Ativos</span><span class="sxs-lookup"><span data-stu-id="ddef0-205">• Active Contract Line Details</span></span><br><span data-ttu-id="ddef0-206">• Vista Associada de Detalhes de Item de Contrato</span><span class="sxs-lookup"><span data-stu-id="ddef0-206">• Contract Line Details Associated View</span></span>|
|  <span data-ttu-id="ddef0-207">Membro da Equipa do Projeto</span><span class="sxs-lookup"><span data-stu-id="ddef0-207">Project Team Member</span></span>|<span data-ttu-id="ddef0-208">• Informação</span><span class="sxs-lookup"><span data-stu-id="ddef0-208">• Information</span></span><br><span data-ttu-id="ddef0-209">• Novo Formulário</span><span class="sxs-lookup"><span data-stu-id="ddef0-209">• New Form</span></span>|<span data-ttu-id="ddef0-210">• Membros da Equipa do Projeto Ativos</span><span class="sxs-lookup"><span data-stu-id="ddef0-210">• Active Project Team Members</span></span><br><span data-ttu-id="ddef0-211">• Membros da Equipa do Projeto</span><span class="sxs-lookup"><span data-stu-id="ddef0-211">• Project Team Members</span></span><br><span data-ttu-id="ddef0-212">• Vista associada de membros da Equipa do Projeto</span><span class="sxs-lookup"><span data-stu-id="ddef0-212">• Project Team members associated View</span></span>|
|  <span data-ttu-id="ddef0-213">Entrada de Hora</span><span class="sxs-lookup"><span data-stu-id="ddef0-213">Time Entry</span></span>|<span data-ttu-id="ddef0-214">• Informação</span><span class="sxs-lookup"><span data-stu-id="ddef0-214">• Information</span></span><br><span data-ttu-id="ddef0-215">• Criar Entrada de Tempo</span><span class="sxs-lookup"><span data-stu-id="ddef0-215">• Create Time Entry</span></span>|<span data-ttu-id="ddef0-216">• As Minhas Entradas de Tempo por Data</span><span class="sxs-lookup"><span data-stu-id="ddef0-216">• My Time Entries By Date</span></span><br><span data-ttu-id="ddef0-217">• As minhas Entradas de tempo para esta semana</span><span class="sxs-lookup"><span data-stu-id="ddef0-217">• My time Entries for this week</span></span><br><span data-ttu-id="ddef0-218">• Entradas de tempo para aprovação</span><span class="sxs-lookup"><span data-stu-id="ddef0-218">• Time entries for approval</span></span>|
|  <span data-ttu-id="ddef0-219">Linha do Diário</span><span class="sxs-lookup"><span data-stu-id="ddef0-219">Journal Line</span></span>|<span data-ttu-id="ddef0-220">• Informação</span><span class="sxs-lookup"><span data-stu-id="ddef0-220">• Information</span></span><br><span data-ttu-id="ddef0-221">• Criação rápida</span><span class="sxs-lookup"><span data-stu-id="ddef0-221">• Quick create</span></span>|<span data-ttu-id="ddef0-222">• Linhas do diário ativas</span><span class="sxs-lookup"><span data-stu-id="ddef0-222">• Active journal lines</span></span><br><span data-ttu-id="ddef0-223">• Vista associada de Linha do Diário</span><span class="sxs-lookup"><span data-stu-id="ddef0-223">• Journal Line associated view</span></span>|
|  <span data-ttu-id="ddef0-224">Detalhe de Linha de Fatura</span><span class="sxs-lookup"><span data-stu-id="ddef0-224">Invoice Line Detail</span></span>|<span data-ttu-id="ddef0-225">• Informação</span><span class="sxs-lookup"><span data-stu-id="ddef0-225">• Information</span></span><br><span data-ttu-id="ddef0-226">• Criação rápida</span><span class="sxs-lookup"><span data-stu-id="ddef0-226">• Quick create</span></span>|<span data-ttu-id="ddef0-227">• Detalhes de Linha de Fatura Ativos</span><span class="sxs-lookup"><span data-stu-id="ddef0-227">• Active Invoice Line Details</span></span><br><span data-ttu-id="ddef0-228">• Transações de Fatura Faturáveis</span><span class="sxs-lookup"><span data-stu-id="ddef0-228">• Chargeable Invoice Transactions</span></span><br><span data-ttu-id="ddef0-229">• Transações de Fatura Grátis</span><span class="sxs-lookup"><span data-stu-id="ddef0-229">• Complimentary Invoice Transactions</span></span><br><span data-ttu-id="ddef0-230">• Vista associada de Detalhe de Linha de Fatura</span><span class="sxs-lookup"><span data-stu-id="ddef0-230">• Invoice Line Detail associated view</span></span><br><span data-ttu-id="ddef0-231">• Transações de Fatura Não Faturáveis</span><span class="sxs-lookup"><span data-stu-id="ddef0-231">• Non-Chargeable Invoice Transactions</span></span>|
|  <span data-ttu-id="ddef0-232">Real</span><span class="sxs-lookup"><span data-stu-id="ddef0-232">Actual</span></span>|<span data-ttu-id="ddef0-233">• Informação</span><span class="sxs-lookup"><span data-stu-id="ddef0-233">• Information</span></span><br><span data-ttu-id="ddef0-234">• Valores Reais Ativos</span><span class="sxs-lookup"><span data-stu-id="ddef0-234">• Active Actuals</span></span>|<span data-ttu-id="ddef0-235">• Vista associada de Valor Real</span><span class="sxs-lookup"><span data-stu-id="ddef0-235">• Actual Associated view</span></span>|

<span data-ttu-id="ddef0-236">Os campos personalizados também poderão ter de ser adicionados às regras de negócio consoante o que tiver definido.</span><span class="sxs-lookup"><span data-stu-id="ddef0-236">Custom fields may also need to be added on business rules depending on what you have defined.</span></span> <span data-ttu-id="ddef0-237">Um exemplo fornecido com o programa destina-se à regra de negócio **Capacidade de Edição da Entrada de Tempo baseada no Estado**.</span><span class="sxs-lookup"><span data-stu-id="ddef0-237">One out-of-the-box example is for the business rule **Editability of Time Entry based on status**.</span></span> <span data-ttu-id="ddef0-238">Esta regra define quais campos têm de ser bloqueados quando a Entrada de Tempo se encontra num estado não editável, tal como **Aprovado**.</span><span class="sxs-lookup"><span data-stu-id="ddef0-238">This rule defines which fields need to be locked when the Time Entry is in a non-editable status such as **Approved**.</span></span> <span data-ttu-id="ddef0-239">Adicione campos a esta regra de negócio, para que os campos fiquem bloqueados para edição quando a Entrada de Tempo estiver num estado diferente de **Rascunho** ou **Devolvido**.</span><span class="sxs-lookup"><span data-stu-id="ddef0-239">Add fields to this business rule so that the fields are locked for editing when the Time Entry is in a status other than **Draft** or **Returned**.</span></span>
