---
title: Considerações sobre atualização – Microsoft Dynamics 365 Project Service Automation versão 2.x ou 1.x para a versão 3
description: Este tópico descreve informações sobre as considerações que deve fazer ao atualizar da versão 2.x ou 1.x para a versão 3 do Project Service Automation.
manager: kfend
ms.service: project-operations
ms.custom:
- dyn365-projectservice
ms.date: 11/13/2018
ms.topic: article
author: JohnPBurrows
ms.author: rumant
audience: Admin
search.audienceType:
- admin
- customizer
- enduser
search.app:
- D365PS
- ProjectOperations
ms.openlocfilehash: 3c51726f71cfd0d4be98982d6a02268d64a70b91
ms.sourcegitcommit: 4cf1dc1561b92fca4175f0b3813133c5e63ce8e6
ms.translationtype: HT
ms.contentlocale: pt-PT
ms.lasthandoff: 10/28/2020
ms.locfileid: "4121727"
---
# <a name="upgrade-considerations---psa-version-2x-or-1x-to-version-3"></a><span data-ttu-id="a324f-103">Considerações sobre atualização - PSA versão 2.x ou 1.x para a versão 3</span><span class="sxs-lookup"><span data-stu-id="a324f-103">Upgrade considerations - PSA version 2.x or 1.x to version 3</span></span>
[!INCLUDE[cc-applies-to-psa-app-1x-2x](../includes/cc-applies-to-psa-app-1x-2x.md)]

## <a name="project-service-automation-and-field-service"></a><span data-ttu-id="a324f-104">Project Service Automation e Field Service</span><span class="sxs-lookup"><span data-stu-id="a324f-104">Project Service Automation and Field Service</span></span>
<span data-ttu-id="a324f-105">Ambos o Dynamics 365 Project Service Automation e o Dynamics 365 Field Service utilizam a solução Universal Resourcing Scheduling (URS) para agendamento de recursos.</span><span class="sxs-lookup"><span data-stu-id="a324f-105">Both Dynamics 365 Project Service Automation and Dynamics 365 Field Service use the Universal Resourcing Scheduling (URS) solution for resource scheduling.</span></span> <span data-ttu-id="a324f-106">Se tiver tanto o Project Service Automation como o Field Service na sua instância, deverá planear a atualização das duas soluções para a versão mais recente (versão 3.x para o Project Service Automation, versão 8.x para o Field Service).</span><span class="sxs-lookup"><span data-stu-id="a324f-106">If you have both Project Service Automation and Field Service in your instance, you should plan on upgrading both solutions to the latest version (version 3.x for Project Service Automation, version 8.x for Field Service).</span></span> <span data-ttu-id="a324f-107">A atualização do Project Service Automation ou do Field Service instalará a versão mais recente do URS, o que significa que poderá ocorrer um comportamento inconsistente se as soluções Project Service Automation e Field Service na mesma instância não forem atualizadas para a versão mais recente.</span><span class="sxs-lookup"><span data-stu-id="a324f-107">Upgrading Project Service Automation or Field Service will install the latest version of URS, which means that inconsistent behavior is possible if both Project Service Automation and Field Service solutions in the same instance aren’t upgraded to the latest version.</span></span>

## <a name="resource-assignments"></a><span data-ttu-id="a324f-108">Atribuições de recursos</span><span class="sxs-lookup"><span data-stu-id="a324f-108">Resource assignments</span></span>
<span data-ttu-id="a324f-109">No Project Service Automation versão 2 e versão 1, as atribuições de tarefas eram armazenadas como tarefas subordinadas (também chamadas de tarefas de linha) na **entidade Tarefa** e eram indiretamente relacionadas com a entidade **Atribuição de Recurso**.</span><span class="sxs-lookup"><span data-stu-id="a324f-109">In Project Service Automation version 2 and version 1, task assignments were stored as child tasks (also called line tasks) in the **Task entity**, and indirectly related to the **Resource Assignment** entity.</span></span> <span data-ttu-id="a324f-110">A tarefa de linha ficava visível na janela pop-up de atribuição da WBS (Estrutura Hierárquica do Trabalho).</span><span class="sxs-lookup"><span data-stu-id="a324f-110">The line task was visible in the assignment pop-up window on the Work Breakdown Structure (WBS).</span></span>

![Tarefas de linha no WBS no Project Service Automation versão 2 e a versão 1](media/upgrade-line-task-01.png)

<span data-ttu-id="a324f-112">Na versão 3 do Project Service Automation, o esquema subjacente de atribuição de recursos reserváveis às tarefas foi alterado.</span><span class="sxs-lookup"><span data-stu-id="a324f-112">In version 3 of Project Service Automation, the underlying schema of assigning bookable resources to tasks has changed.</span></span> <span data-ttu-id="a324f-113">A tarefa de linha foi preterida e há uma relação 1:1 direta entre a tarefa na **entidade Tarefa** e o membro da equipa na entidade **Atribuição de Recurso**.</span><span class="sxs-lookup"><span data-stu-id="a324f-113">The line task has been deprecated and there is a direct 1:1 relationship between the task in the **Task entity** and the team member in the **Resource Assignment** entity.</span></span> <span data-ttu-id="a324f-114">As tarefas atribuídas a um membro da equipa do projeto agora são armazenadas diretamente na entidade Atribuição de Recurso.</span><span class="sxs-lookup"><span data-stu-id="a324f-114">Tasks that are assigned to a project team member are now stored directly in the Resource Assignment entity.</span></span>  

<span data-ttu-id="a324f-115">Estas alterações causam impacto na atualização dos projetos existentes que possuem atribuições de recursos para recursos reserváveis nomeados e recursos genéricos numa equipa do projeto.</span><span class="sxs-lookup"><span data-stu-id="a324f-115">These changes impact the upgrade of any existing projects that have resource assignments for named bookable resources and generic resources on a project team.</span></span> <span data-ttu-id="a324f-116">Este tópico descreve as considerações que deve fazer em relação aos projetos ao atualizar para a versão 3.</span><span class="sxs-lookup"><span data-stu-id="a324f-116">This topic provides the considerations that you will need to take into account for your projects when you upgrade to version 3.</span></span> 

### <a name="tasks-assigned-to-named-resources"></a><span data-ttu-id="a324f-117">Tarefas atribuídas a recursos nomeados</span><span class="sxs-lookup"><span data-stu-id="a324f-117">Tasks assigned to named resources</span></span>
<span data-ttu-id="a324f-118">Ao utilizar a entidade de tarefa subjacente, as tarefas na versão 2 e na versão 1 permitem que os membros da equipa desempenhem uma função diferente das suas funções predefinidas.</span><span class="sxs-lookup"><span data-stu-id="a324f-118">Using the underlying task entity, tasks in version 2 and version 1 allowed team members to portray a role other than their default defined role.</span></span> <span data-ttu-id="a324f-119">Por exemplo, Catalina Araújo, que recebeu, por predefinição, a função de Gestor do Programa, pode receber a atribuição de uma tarefa com a função de Programador.</span><span class="sxs-lookup"><span data-stu-id="a324f-119">For example, Gracie George, who’s by default assigned the role of Program Manager, could be assigned to a task with the role of Developer.</span></span> <span data-ttu-id="a324f-120">Na versão 3, a função do membro da equipa nomeado é sempre a predefinição, de modo que qualquer tarefa que seja atribuída a Catalina Araújo utilize a sua função predefinida de Gestor do Programa.</span><span class="sxs-lookup"><span data-stu-id="a324f-120">In version 3, the role of a named team member is always the default, so any task that Gracie George is assigned to uses her default role of Program Manager.</span></span>

<span data-ttu-id="a324f-121">Se tiver atribuído a um recurso uma tarefa fora da sua função predefinida nas versões 2 e 1, ao atualizar, a função predefinida será atribuída ao recurso nomeado para todas as atribuições de tarefas, independentemente da atribuição de função na versão 2.</span><span class="sxs-lookup"><span data-stu-id="a324f-121">If you have assigned a resource to a task outside of their default role in version 2 and version 1, when you upgrade, the named resource will be assigned the default role for all task assignments, regardless of role assignment in version 2.</span></span> <span data-ttu-id="a324f-122">Isto resultará em diferenças nas estimativas calculadas da versão 2 ou versão 1 em relação à versão 3, pois as estimativas são calculadas com base na função do recurso, e não na atribuição da tarefa de linha.</span><span class="sxs-lookup"><span data-stu-id="a324f-122">This will result in differences in the calculated estimates from version 2 or version 1 to version 3 because estimates are calculated based on the role of the resource and not the line task assignment.</span></span> <span data-ttu-id="a324f-123">Por exemplo, na versão 2, duas tarefas foram atribuídas a Bárbara Araújo.</span><span class="sxs-lookup"><span data-stu-id="a324f-123">For example, in version 2, two tasks have been assigned to Ashley Chinn.</span></span> <span data-ttu-id="a324f-124">A função na tarefa de linha da tarefa 1 era Programador e, na tarefa 2, Gestor do Programa.</span><span class="sxs-lookup"><span data-stu-id="a324f-124">The role on the line task for task 1 is Developer and for task 2, Program Manager.</span></span> <span data-ttu-id="a324f-125">A função predefinida de Bárbara Araújo é Gestor do Programa.</span><span class="sxs-lookup"><span data-stu-id="a324f-125">Ashley Chinn has the default role of Program Manager.</span></span>

![Várias funções atribuídas a um recurso](media/upgrade-multiple-roles-02.png)

<span data-ttu-id="a324f-127">Como as funções de Programador e Gestor do Programa são diferentes, as estimativas de custo e vendas são as seguintes:</span><span class="sxs-lookup"><span data-stu-id="a324f-127">Because the roles of Developer and Program Manager differ, the cost and sales estimates are as follows:</span></span>

![Estimativas de custo para as funções do recurso](media/upggrade-cost-estimates-03.png)

![Estimativas de vendas para as funções do recurso](media/upgrade-sales-estimates-04.png)

<span data-ttu-id="a324f-130">Ao atualizar para a versão 3, as tarefas de linha são substituídas por atribuições de recursos na tarefa do membro da equipa de recurso reservável.</span><span class="sxs-lookup"><span data-stu-id="a324f-130">When you upgrade to version 3, line tasks are replaced with resource assignments on the task of the bookable resource team member.</span></span> <span data-ttu-id="a324f-131">A atribuição utilizará a função predefinida do recurso reservável.</span><span class="sxs-lookup"><span data-stu-id="a324f-131">The assignment will use the default role of the bookable resource.</span></span> <span data-ttu-id="a324f-132">Na imagem a seguir, Bárbara Araújo, que possui a função de Gestor do Programa, é o recurso.</span><span class="sxs-lookup"><span data-stu-id="a324f-132">In the following graphic, Ashley Chinn who has a role of Program Manager, is the resource.</span></span>

![Atribuições de recursos](media/resource-assignment-v2-05.png)

<span data-ttu-id="a324f-134">Como as estimativas baseiam-se na função predefinida do recurso, as estimativas de custo e vendas podem ser alteradas.</span><span class="sxs-lookup"><span data-stu-id="a324f-134">Because the estimates are based on the default role for the resource, the sales and cost estimates may change.</span></span> <span data-ttu-id="a324f-135">Observe que, na imagem a seguir, a função **Programador** já não é visualizada, pois agora a função é obtida da função predefinida do recurso reservável.</span><span class="sxs-lookup"><span data-stu-id="a324f-135">Note that in the following graphic, you no longer see the **Developer** role as the role is now taken from the bookable resource’s default role.</span></span>

<span data-ttu-id="a324f-136">![Estimativas de custo para funções predefinidas](media/resource-assignment-cost-estimate-06.png)
![Estimativas de vendas para funções predefinidas](media/resource-assignment-sales-estimate-07.png)</span><span class="sxs-lookup"><span data-stu-id="a324f-136">![Cost estimates for default roles](media/resource-assignment-cost-estimate-06.png)
![Sales estimate for default roles](media/resource-assignment-sales-estimate-07.png)</span></span>

<span data-ttu-id="a324f-137">Depois de a atualização ser concluída, poderá editar a função de um membro da equipa como algo diferente do padrão atribuído.</span><span class="sxs-lookup"><span data-stu-id="a324f-137">After upgrade is complete, you can edit a team member's role to be something other than the assigned default.</span></span> <span data-ttu-id="a324f-138">Entretanto, se modificar a função de membros da equipa, ela será alterada em todas as suas tarefas atribuídas, pois já não é permitido atribuir várias funções aos membros da equipa na versão 3.</span><span class="sxs-lookup"><span data-stu-id="a324f-138">However, if you change a team members role, it will be changed on all of their assigned tasks because team members are no longer allowed to be assigned multiple roles in version 3.</span></span>

![Atualizar uma função de recurso](media/resource-role-assignment-08.png)

<span data-ttu-id="a324f-140">Isto também é válido para as tarefas de linha atribuídas a recursos nomeados quando altera a unidade organizacional do recurso de predefinido para outra unidade organizacional.</span><span class="sxs-lookup"><span data-stu-id="a324f-140">This is also true for line tasks that were assigned to named resources when you change the resource’s organization unit from the default to another organization unit.</span></span> <span data-ttu-id="a324f-141">Após a conclusão da atualização da versão 3, a atribuição utilizará a unidade organizacional predefinida do recurso, em vez da unidade definida na tarefa de linha.</span><span class="sxs-lookup"><span data-stu-id="a324f-141">After the version 3 upgrade is complete, the assignment will use the resource’s default organization unit instead of the one set on the line task.</span></span>

### <a name="tasks-assigned-to-generic-resources"></a><span data-ttu-id="a324f-142">Tarefas atribuídas a recursos genéricos</span><span class="sxs-lookup"><span data-stu-id="a324f-142">Tasks assigned to generic resources</span></span>
<span data-ttu-id="a324f-143">Na versão 2 e na versão 1, pode definir a função e a unidade organizacional numa tarefa e, depois, utilizar o recurso **Gerar equipa** para gerar recursos genéricos com base nos atributos definidos na tarefa.</span><span class="sxs-lookup"><span data-stu-id="a324f-143">In version 2 and version 1, you can set the role and org unit on a task and then use the **Generate team** feature to generate generic resources based on the attributes set on the task.</span></span> <span data-ttu-id="a324f-144">Na versão 3, cria os membros da equipa genéricos com função e unidade organizacional e, em seguida, atribua os membros da equipa às tarefas.</span><span class="sxs-lookup"><span data-stu-id="a324f-144">In version 3, you create the generic team members with role and org unit, and then assign the team members to tasks.</span></span>

<span data-ttu-id="a324f-145">Na versão 2 e na versão 1, os projetos com recursos genéricos podem estar em dois estados ou numa combinação de ambos no nível da tarefa.</span><span class="sxs-lookup"><span data-stu-id="a324f-145">In version 2 and version 1, projects with generic resources can be in two states, or a mix of both at the task level.</span></span> <span data-ttu-id="a324f-146">Por exemplo, é possível ter os seguintes cenários:</span><span class="sxs-lookup"><span data-stu-id="a324f-146">For example, you can have the following scenarios:</span></span>

- <span data-ttu-id="a324f-147">Tarefas com funções e unidades organizacionais definidas, mas nenhuma atribuição de recurso afiliado foi gerada.</span><span class="sxs-lookup"><span data-stu-id="a324f-147">Tasks with roles and org units set, but no affiliated resource assignment has been generated.</span></span>
- <span data-ttu-id="a324f-148">Tarefas com recursos de membros da equipa genéricos atribuídos por meio da criação de um recurso genérico utilizando o recurso **Gerar equipa**.</span><span class="sxs-lookup"><span data-stu-id="a324f-148">Tasks with generic team member resource assignments that were assigned by creating generic resource using the **Generate team** feature.</span></span>

<span data-ttu-id="a324f-149">Antes de iniciar a atualização, é recomendável gerar novamente a equipa para cada projeto que possui tarefas atribuídas a recursos genéricos ou que ainda tem de executar o processo nelas.</span><span class="sxs-lookup"><span data-stu-id="a324f-149">Before you begin your upgrade, we recommend that you re-generate the team for each project that has tasks assigned to generic resources or has yet to have the generate team process run on them.</span></span>

<span data-ttu-id="a324f-150">Para as tarefas atribuídas a membros da equipa genéricos que foram gerados utilizando **Gerar equipa**, a atualização irá manter o recurso genérico na equipa e, também, a atribuição a esse membro da equipa genérico.</span><span class="sxs-lookup"><span data-stu-id="a324f-150">For tasks that are assigned to generic team members that were generated with **Generate Team**, the upgrade will leave the generic resource on the team and leave the assignment to that generic team member.</span></span> <span data-ttu-id="a324f-151">Recomendamos que gere o requisito de recurso para o membro da equipa genérico após a atualização, mas antes de reservar ou submeter um pedido de recurso.</span><span class="sxs-lookup"><span data-stu-id="a324f-151">We recommend that you generate the resource requirement for the generic team member after the upgrade but before you book or submit a resource request.</span></span> <span data-ttu-id="a324f-152">Isto irá preservar todas as atribuições de unidade organizacional dos membros da equipa genéricos que forem diferentes da unidade organizacional de contratação do projeto.</span><span class="sxs-lookup"><span data-stu-id="a324f-152">This will preserve any org unit assignments on the generic team members that are different than the project’s contracting org unit.</span></span>

<span data-ttu-id="a324f-153">Por exemplo, no projeto Projeto Z, a unidade organizacional de contratação é a Contoso US.</span><span class="sxs-lookup"><span data-stu-id="a324f-153">For example, in the Project Z project, the contracting org unit is Contoso US.</span></span> <span data-ttu-id="a324f-154">No plano do projeto, a função Consultor Técnico foi atribuída às tarefas de teste da fase de implementação, e a unidade organizacional atribuída é a Contoso India.</span><span class="sxs-lookup"><span data-stu-id="a324f-154">In the project plan, testing tasks within the Implementation phase have been assigned the role Technical Consultant and the assigned org unit is Contoso India.</span></span>

![Atribuição de organização na fase de implementação](media/org-unit-assignment-09.png)

<span data-ttu-id="a324f-156">Após a fase de implementação, a tarefa de teste de integração é atribuída à função Consultor Técnico, mas a organização é definida como Contoso US.</span><span class="sxs-lookup"><span data-stu-id="a324f-156">After the implementation phase, the integration test task is assigned to the role Technical consultant, but the org is set to Contoso US.</span></span>  

![Atribuição de organização da tarefa de teste de integração](media/org-unit-generate-team-10.png)

<span data-ttu-id="a324f-158">Ao gerar uma equipa para o projeto, dois membros da equipa genéricos são criados devido às unidades organizacionais diferentes nas tarefas.</span><span class="sxs-lookup"><span data-stu-id="a324f-158">When you generate a team for the project, two generic team members are created due to the different org units on the tasks.</span></span> <span data-ttu-id="a324f-159">As tarefas da Contoso India serão atribuídas ao Consultor técnico 1 e o Consultor técnico 2 receberá as tarefas da Contoso US.</span><span class="sxs-lookup"><span data-stu-id="a324f-159">Technical consultant 1 will be assigned the Contoso India tasks and Technical consultant 2 will have the Contoso US tasks.</span></span>  

![Membros da equipa genéricos gerados](media/org-unit-assignments-multiple-resources-11.png)

> [!NOTE]
> <span data-ttu-id="a324f-161">No Project Service Automation versões 2 e 1, o membro da equipa não mantém a unidade organizacional, esta é mantida na tarefa de linha.</span><span class="sxs-lookup"><span data-stu-id="a324f-161">In Project Service Automation version 2 and version 1, the team member does not hold the organization unit, that is maintained on the line task.</span></span>

![Tarefas de linha versão 1 e versão 2 no Project Service Automation](media/line-tasks-12.png)

<span data-ttu-id="a324f-163">Pode ver a unidade organizacional na vista de estimativas.</span><span class="sxs-lookup"><span data-stu-id="a324f-163">You can see the organization unit on the estimates view.</span></span> 

![Estimativas da unidade organizacional](media/org-unit-estimates-view-13.png)
 
<span data-ttu-id="a324f-165">Quando a atualização é concluída, a unidade organizacional na tarefa de linha que corresponde ao membro da equipa genérico é adicionada a esse membro e a tarefa de linha é removida.</span><span class="sxs-lookup"><span data-stu-id="a324f-165">When the upgrade is complete, the organization unit on the line task that corresponds to the generic team member is added to the generic team member and the line task is removed.</span></span> <span data-ttu-id="a324f-166">Por isso, recomendamos que, antes de atualizar, gere a equipa em cada projeto que contém recursos genéricos, ou gere-a novamente.</span><span class="sxs-lookup"><span data-stu-id="a324f-166">Because of this, we recommend that before you upgrade, you generate or re-generate the team on each project that contains generic resources.</span></span>

<span data-ttu-id="a324f-167">Para as tarefas atribuídas a uma função com uma unidade organizacional diferente daquela do projeto de contratação e sem uma equipa gerada, a atualização criará um membro da equipa genérico para a função, mas utilizará a unidade de contratação do projeto para a unidade organizacional do membro da equipa.</span><span class="sxs-lookup"><span data-stu-id="a324f-167">For tasks that are assigned to a role with an org unit that differs from the org unit of the contracting project, and a team has not been generated, upgrade will create a generic team member for the role, but will use the contracting unit of the project for the team member's org unit.</span></span> <span data-ttu-id="a324f-168">Voltando ao exemplo do Projeto Z, isto significa que a função Consultor Técnico foi atribuída à unidade organizacional de contratação Contoso US e às tarefas de teste de plano do projeto na fase de implementação com a unidade organizacional atribuída à Contoso India.</span><span class="sxs-lookup"><span data-stu-id="a324f-168">Referring back to the example with Project Z, this means that the contracting org unit Contoso US, and the project plan testing tasks within the Implementation phase have been assigned the role Technical Consultant with the org unit assigned to Contoso India.</span></span> <span data-ttu-id="a324f-169">A tarefa de teste de integração concluída após a fase de implementação foi atribuída à função Consultor Técnico.</span><span class="sxs-lookup"><span data-stu-id="a324f-169">The Integration test task that is completed after the Implementation phase has been assigned to the role Technical consultant.</span></span> <span data-ttu-id="a324f-170">A unidade organizacional é a Contoso US e uma equipa não foi gerada.</span><span class="sxs-lookup"><span data-stu-id="a324f-170">The org unit is Contoso US and a team has not been generated.</span></span> <span data-ttu-id="a324f-171">A atualização criará um membro da equipa genérico, um Consultor técnico que possui as horas atribuídas das três tarefas e uma unidade organizacional da Contoso US, a unidade organizacional de contratação do projeto.</span><span class="sxs-lookup"><span data-stu-id="a324f-171">Upgrade will create one generic team member, a Technical consultant that has the assigned hours of all three tasks, and an org unit of Contoso US, the project’s contracting org unit.</span></span>   
 
<span data-ttu-id="a324f-172">Alteração na predefinição de unidades organizacionais de atribuição de recursos diferentes em membros da equipa não gerados é o motivo pelo qual recomendamos que gere ou gere novamente a equipa em cada projeto que contém recursos genéricos antes da atualização, de modo a que as atribuições da unidade organizacional não sejam perdidas.</span><span class="sxs-lookup"><span data-stu-id="a324f-172">Changing the default of the different resourcing org units on un-generated team members is the reason we recommend that you generate or re-generate the team on each project that contains generic resources prior to the upgrade so that the org unit assignments are not lost.</span></span>

