---
title: Faturas pró-forma
description: Esta tópico fornece informações sobre faturas pró-forma no Project Operations.
author: rumant
manager: AnnBe
ms.date: 04/05/2021
ms.topic: article
ms.prod: ''
ms.service: project-operations
ms.reviewer: kfend
ms.author: rumant
ms.openlocfilehash: b143ba286f25ecb23fea09a85bca06543f7f55ff
ms.sourcegitcommit: ca0fc078d1a12484eca193fe051b8442c0559db8
ms.translationtype: HT
ms.contentlocale: pt-PT
ms.lasthandoff: 04/07/2021
ms.locfileid: "5866875"
---
# <a name="proforma-invoices"></a><span data-ttu-id="e49f5-103">Faturas pró-forma</span><span class="sxs-lookup"><span data-stu-id="e49f5-103">Proforma invoices</span></span>

<span data-ttu-id="e49f5-104">_**Aplica-se A:** Project Operations para cenários baseados em recursos/não armazenados_</span><span class="sxs-lookup"><span data-stu-id="e49f5-104">_**Applies To:** Project Operations for resource/non-stocked based scenarios_</span></span>

<span data-ttu-id="e49f5-105">A faturação pró-forma fornece aos gestores de projeto um segundo nível de aprovação antes de criarem faturas para os clientes.</span><span class="sxs-lookup"><span data-stu-id="e49f5-105">Proforma invoicing gives project managers a second level of approval before they create invoices for customers.</span></span> <span data-ttu-id="e49f5-106">O primeiro nível de aprovação é concluído quando as entradas de tempo, despesa e material que os membros da equipa do projeto submetem são aprovadas.</span><span class="sxs-lookup"><span data-stu-id="e49f5-106">The first level of approval is completed when time, expense, and material entries that project team members submit are approved.</span></span> <span data-ttu-id="e49f5-107">As faturas pró-forma confirmadas estão disponíveis no módulo contabilístico do Project Operations.</span><span class="sxs-lookup"><span data-stu-id="e49f5-107">Confirmed proforma invoices are available in the Project Accounting module of Project Operations.</span></span> <span data-ttu-id="e49f5-108">Os contabilistas do projeto podem realizar atualizações adicionais, tais como impostos sobre vendas, gestão contabilística e esquema de faturas.</span><span class="sxs-lookup"><span data-stu-id="e49f5-108">Project accountants can perform additional updates such as sales tax, accounting, and invoice layout.</span></span>


## <a name="creating-project-invoices"></a><span data-ttu-id="e49f5-109">Criar faturas do projeto</span><span class="sxs-lookup"><span data-stu-id="e49f5-109">Creating project invoices</span></span>

<span data-ttu-id="e49f5-110">É possível criar uma fatura do projeto de cada vez ou em massa.</span><span class="sxs-lookup"><span data-stu-id="e49f5-110">Project invoices can be created one at a time or in bulk.</span></span> <span data-ttu-id="e49f5-111">Pode criá-las manualmente ou podem ser configuradas para que sejam geradas em execuções automatizadas.</span><span class="sxs-lookup"><span data-stu-id="e49f5-111">You can create them manually, or they can be configured so that they are generated in automated runs.</span></span>

### <a name="manually-create-project-invoices"></a><span data-ttu-id="e49f5-112">Criar manualmente faturas do projeto</span><span class="sxs-lookup"><span data-stu-id="e49f5-112">Manually create project invoices</span></span> 

<span data-ttu-id="e49f5-113">A partir da página da lista de **Contratos do Projeto**, pode criar faturas do projeto separadamente para cada contrato do projeto ou pode criar faturas em massa para vários contratos do projeto.</span><span class="sxs-lookup"><span data-stu-id="e49f5-113">From the **Project Contracts** list page, you can create project invoices separately for each project contract, or you can create invoices in bulk for multiple project contracts.</span></span>

<span data-ttu-id="e49f5-114">Siga este passo para criar uma fatura para um contrato do projeto específico.</span><span class="sxs-lookup"><span data-stu-id="e49f5-114">Follow this step to create an invoice for a specific project contract.</span></span>

- <span data-ttu-id="e49f5-115">Na página da lista de **Contratos do Projeto**, abra um contrato do projeto e, em seguida, selecione **Criar Fatura**.</span><span class="sxs-lookup"><span data-stu-id="e49f5-115">On the **Project Contracts** list page, open a project contract, and then select **Create Invoice**.</span></span>

    <span data-ttu-id="e49f5-116">É gerada uma fatura para todas as transações referentes ao contrato do projeto selecionado que têm um estado de **Pronto para Faturar**.</span><span class="sxs-lookup"><span data-stu-id="e49f5-116">An invoice is generated for all transactions for the selected project contract that have a status of **Ready to Invoice**.</span></span> <span data-ttu-id="e49f5-117">Estas transações incluem tempo, despesas, materiais, marcos e outras linhas do diário de vendas não faturadas.</span><span class="sxs-lookup"><span data-stu-id="e49f5-117">These transactions include time, expenses, materials, milestones, and other unbilled sales journal lines.</span></span>

<span data-ttu-id="e49f5-118">Siga estes passos para criar faturas em massa.</span><span class="sxs-lookup"><span data-stu-id="e49f5-118">Follow these steps to create invoices in bulk.</span></span>

1. <span data-ttu-id="e49f5-119">Na página da lista de **Contratos do Projeto**, selecione um ou mais contratos do projeto para os quais tem de criar uma fatura e, em seguida, selecione **Criar Faturas do Projeto**.</span><span class="sxs-lookup"><span data-stu-id="e49f5-119">On the **Project Contracts** list page, select one or more project contracts that you must create an invoice for, and then select **Create Project Invoices**.</span></span>

    <span data-ttu-id="e49f5-120">Uma mensagem de aviso informa-o de que poderá haver um atraso antes da criação das faturas.</span><span class="sxs-lookup"><span data-stu-id="e49f5-120">A warning message informs you that there might be a delay before invoices are created.</span></span> <span data-ttu-id="e49f5-121">O processo também é mostrado.</span><span class="sxs-lookup"><span data-stu-id="e49f5-121">The process is also shown.</span></span>

2. <span data-ttu-id="e49f5-122">Selecione **OK** para fechar a caixa de mensagem.</span><span class="sxs-lookup"><span data-stu-id="e49f5-122">Select **OK** to close the message box.</span></span>

    <span data-ttu-id="e49f5-123">É gerada uma fatura para todas as transações num item de contrato que têm um estado de **Pronto para Faturar**.</span><span class="sxs-lookup"><span data-stu-id="e49f5-123">An invoice is generated for all transactions on a contract line that have a status of **Ready to Invoice**.</span></span> <span data-ttu-id="e49f5-124">Estas transações incluem tempo, despesas, materiais, marcos e outras linhas do diário de vendas não faturadas.</span><span class="sxs-lookup"><span data-stu-id="e49f5-124">These transactions include time, expenses, materials, milestones, and other unbilled sales journal lines.</span></span>

3. <span data-ttu-id="e49f5-125">Para ver as faturas geradas, aceda a **Vendas** \> **Faturação** \> **Faturas**.</span><span class="sxs-lookup"><span data-stu-id="e49f5-125">To view the invoices that are generated, go to **Sales** \> **Billing** \> **Invoices**.</span></span> <span data-ttu-id="e49f5-126">Verá uma fatura para cada contrato do projeto.</span><span class="sxs-lookup"><span data-stu-id="e49f5-126">You will see one invoice for each project contract.</span></span>

### <a name="set-up-automated-creation-of-project-invoices"></a><span data-ttu-id="e49f5-127">Configurar a criação automatizada de faturas do projeto</span><span class="sxs-lookup"><span data-stu-id="e49f5-127">Set up automated creation of project invoices</span></span> 

<span data-ttu-id="e49f5-128">Siga estes passos para configurar a execução de fatura automatizada.</span><span class="sxs-lookup"><span data-stu-id="e49f5-128">Follow these steps to configure an automated invoice run.</span></span>

1. <span data-ttu-id="e49f5-129">Aceda a **Definições** \> **Tarefas de lote**.</span><span class="sxs-lookup"><span data-stu-id="e49f5-129">Go to **Settings** \> **Batch jobs**.</span></span>
2. <span data-ttu-id="e49f5-130">Crie uma tarefa de lote e atribua-lhe o nome **Criar faturas nas operações do Projeto**.</span><span class="sxs-lookup"><span data-stu-id="e49f5-130">Create a batch job, and name it **Project Operations Create Invoices**.</span></span> <span data-ttu-id="e49f5-131">O nome da tarefa de lote tem de incluir o termo "Criar Faturas."</span><span class="sxs-lookup"><span data-stu-id="e49f5-131">The name of the batch job must include the term "Create Invoices."</span></span>
3. <span data-ttu-id="e49f5-132">No campo **Tipo de tarefa**, selecione **Nenhum**.</span><span class="sxs-lookup"><span data-stu-id="e49f5-132">In the **Job type** field, select **None**.</span></span> <span data-ttu-id="e49f5-133">Por predefinição, as opções **Frequência Diária** e **Está Ativo** estão definidas como **Sim**.</span><span class="sxs-lookup"><span data-stu-id="e49f5-133">By default, the **Frequency Daily** and **Is Active** options are set to **Yes**.</span></span>
4. <span data-ttu-id="e49f5-134">Selecione **Executar Fluxo de Trabalho**.</span><span class="sxs-lookup"><span data-stu-id="e49f5-134">Select **Run Workflow**.</span></span> <span data-ttu-id="e49f5-135">Na caixa de diálogo **Pesquisar Registo**, verá três fluxos de trabalho:</span><span class="sxs-lookup"><span data-stu-id="e49f5-135">In the **Look Up Record** dialog box, you will see three workflows:</span></span>

    - <span data-ttu-id="e49f5-136">ProcessRunCaller</span><span class="sxs-lookup"><span data-stu-id="e49f5-136">ProcessRunCaller</span></span>
    - <span data-ttu-id="e49f5-137">ProcessRunner</span><span class="sxs-lookup"><span data-stu-id="e49f5-137">ProcessRunner</span></span>
    - <span data-ttu-id="e49f5-138">UpdateRoleUtilization</span><span class="sxs-lookup"><span data-stu-id="e49f5-138">UpdateRoleUtilization</span></span>

5. <span data-ttu-id="e49f5-139">Selecione **ProcessRunCaller** e, em seguida, selecione **Adicionar**.</span><span class="sxs-lookup"><span data-stu-id="e49f5-139">Select **ProcessRunCaller**, and then select **Add**.</span></span>
6. <span data-ttu-id="e49f5-140">Na caixa de diálogo seguinte, selecione **OK**.</span><span class="sxs-lookup"><span data-stu-id="e49f5-140">In the next dialog box, select **OK**.</span></span> <span data-ttu-id="e49f5-141">Um fluxo de trabalho de **Suspensão** é seguido por um fluxo de trabalho do **Processo**.</span><span class="sxs-lookup"><span data-stu-id="e49f5-141">A **Sleep** workflow is followed by a **Process** workflow.</span></span>

    <span data-ttu-id="e49f5-142">Também pode selecionar **ProcessRunner** no passo 5.</span><span class="sxs-lookup"><span data-stu-id="e49f5-142">You can also select **ProcessRunner** in step 5.</span></span> <span data-ttu-id="e49f5-143">Em seguida, quando selecionar **OK**, um fluxo de trabalho do **Processo** é seguido por um fluxo de trabalho de **Suspensão**.</span><span class="sxs-lookup"><span data-stu-id="e49f5-143">Then, when you select **OK**, a **Process** workflow is followed by a **Sleep** workflow.</span></span>

<span data-ttu-id="e49f5-144">Os fluxos de trabalho **ProcessRunCaller** e **ProcessRunner** criam faturas.</span><span class="sxs-lookup"><span data-stu-id="e49f5-144">The **ProcessRunCaller** and **ProcessRunner** workflows create invoices.</span></span> <span data-ttu-id="e49f5-145">O **ProcessRunCaller** chama o **ProcessRunner**.</span><span class="sxs-lookup"><span data-stu-id="e49f5-145">**ProcessRunCaller** calls **ProcessRunner**.</span></span> <span data-ttu-id="e49f5-146">**ProcessRunner** é o fluxo de trabalho que, na realidade, cria as faturas.</span><span class="sxs-lookup"><span data-stu-id="e49f5-146">**ProcessRunner** is the workflow that actually creates the invoices.</span></span> <span data-ttu-id="e49f5-147">Passa por todos os itens de contrato para os quais é necessário criar faturas e cria faturas para essas linhas.</span><span class="sxs-lookup"><span data-stu-id="e49f5-147">It goes through all the contract lines that invoices must be created for, and it creates invoices for those lines.</span></span> <span data-ttu-id="e49f5-148">Para determinar os itens de contrato para os quais devem ser criadas faturas, a tarefa examina as datas de execução da fatura para os itens de contrato.</span><span class="sxs-lookup"><span data-stu-id="e49f5-148">To determine the contract lines that invoices must be created for, the job looks at invoice run dates for the contract lines.</span></span> <span data-ttu-id="e49f5-149">Se os itens de contrato que pertencem a um contrato tiverem a mesma data de execução da fatura, as transações são combinadas numa fatura que tem duas linhas de fatura.</span><span class="sxs-lookup"><span data-stu-id="e49f5-149">If contract lines that belong to one contract have the same invoice run date, the transactions are combined into one invoice that has two invoice lines.</span></span> <span data-ttu-id="e49f5-150">Se não houver transações para as quais criar faturas, a tarefa ignorará a criação da fatura.</span><span class="sxs-lookup"><span data-stu-id="e49f5-150">If there are no transactions to create invoices for, the job skips invoice creation.</span></span>

<span data-ttu-id="e49f5-151">Depois de **ProcessRunner** ter terminado a execução, chama o **ProcessRunCaller**, fornece a hora de fim e é fechado.</span><span class="sxs-lookup"><span data-stu-id="e49f5-151">After **ProcessRunner** has finished running, it calls **ProcessRunCaller**, provides the end time, and is closed.</span></span> <span data-ttu-id="e49f5-152">**ProcessRunCaller** em seguida, inicia um temporizador que funciona durante 24 horas a partir da hora de fim especificada.</span><span class="sxs-lookup"><span data-stu-id="e49f5-152">**ProcessRunCaller** then starts a timer that runs for 24 hours from the specified end time.</span></span> <span data-ttu-id="e49f5-153">No final do temporizador, o **ProcessRunCaller** é fechado.</span><span class="sxs-lookup"><span data-stu-id="e49f5-153">At the end of the timer, **ProcessRunCaller** is closed.</span></span>

<span data-ttu-id="e49f5-154">A tarefa de processamento em lote para criar faturas é uma tarefa recorrente.</span><span class="sxs-lookup"><span data-stu-id="e49f5-154">The batch process job for creating invoices is a recurrent job.</span></span> <span data-ttu-id="e49f5-155">Se este processamento em lote for executado muitas vezes, são criadas várias instâncias da tarefa e causam erros.</span><span class="sxs-lookup"><span data-stu-id="e49f5-155">If this batch process is run many times, multiple instances of the job are created and cause errors.</span></span> <span data-ttu-id="e49f5-156">Consequentemente, deverá iniciar o processamento em lote apenas uma vez, e só deverá reiniciá-lo se parar de ser executado.</span><span class="sxs-lookup"><span data-stu-id="e49f5-156">Therefore, you should start the batch process only one time, and you should restart it only if it stops running.</span></span>

> [!NOTE]
> <span data-ttu-id="e49f5-157">A faturação do lote só funciona para itens de contrato do projeto que são configurados por horários da fatura.</span><span class="sxs-lookup"><span data-stu-id="e49f5-157">Batch invoicing only runs for project contract lines that are configured by invoice schedules.</span></span> <span data-ttu-id="e49f5-158">Uma linha de contrato com um método de faturação de preço fixo tem de ter marcos configurados.</span><span class="sxs-lookup"><span data-stu-id="e49f5-158">A contract line with a fixed price billing method must have milestones configured.</span></span> <span data-ttu-id="e49f5-159">Uma linha de contrato de projeto com um método de faturação de tempo e material necessitará de uma configuração de agenda de faturamento baseado em datas.</span><span class="sxs-lookup"><span data-stu-id="e49f5-159">A project contract line with a time and material billing method will need a date-based invoice schedule set up.</span></span> <span data-ttu-id="e49f5-160">O mesmo se aplica a uma linha de contratos baseada em projetos.</span><span class="sxs-lookup"><span data-stu-id="e49f5-160">The same applies to a project-based contract line.</span></span>      
 
### <a name="edit-a-draft-invoice"></a><span data-ttu-id="e49f5-161">Editar um rascunho da fatura</span><span class="sxs-lookup"><span data-stu-id="e49f5-161">Edit a draft invoice</span></span>

<span data-ttu-id="e49f5-162">Quando cria um rascunho da fatura do projeto, todas as transações de vendas não faturadas criadas quando as entradas de tempo, despesa e utilização de material foram aprovadas, são reunidas na fatura.</span><span class="sxs-lookup"><span data-stu-id="e49f5-162">When you create a draft project invoice, all unbilled sales transactions that were created when the time, expense, and material usage entries were approved are pulled onto the invoice.</span></span> <span data-ttu-id="e49f5-163">Pode efetuar os seguintes ajustes enquanto a fatura ainda está numa fase de rascunho:</span><span class="sxs-lookup"><span data-stu-id="e49f5-163">You can make the following adjustments while the invoice is still in a draft stage:</span></span>

- <span data-ttu-id="e49f5-164">Elimine ou edite os detalhes de linha de fatura.</span><span class="sxs-lookup"><span data-stu-id="e49f5-164">Delete or edit invoice line details.</span></span>
- <span data-ttu-id="e49f5-165">Edite e ajuste a quantidade e o tipo de faturação.</span><span class="sxs-lookup"><span data-stu-id="e49f5-165">Edit and adjust the quantity and billing type.</span></span>

<span data-ttu-id="e49f5-166">Selecione **Confirmar** para confirmar uma fatura.</span><span class="sxs-lookup"><span data-stu-id="e49f5-166">Select **Confirm** to confirm an invoice.</span></span> <span data-ttu-id="e49f5-167">A ação de Confirmação é uma ação unilateral.</span><span class="sxs-lookup"><span data-stu-id="e49f5-167">The Confirm action is a one-way action.</span></span> <span data-ttu-id="e49f5-168">Quando seleciona **Confirmar**, o sistema efetua a faturação só de leitura e cria valores reais de vendas faturadas a partir de cada detalhe de linha de fatura para cada linha de fatura.</span><span class="sxs-lookup"><span data-stu-id="e49f5-168">When you select **Confirm**, the system makes the invoice read-only and creates billed sales actuals from each invoice line detail for each invoice line.</span></span> <span data-ttu-id="e49f5-169">Se o detalhe de linha de fatura referenciar um valor real de vendas não faturadas, o sistema também reverte o valor real de vendas não faturadas.</span><span class="sxs-lookup"><span data-stu-id="e49f5-169">If the invoice line detail references an unbilled sales actual, the system also reverses the unbilled sales actual.</span></span> <span data-ttu-id="e49f5-170">(Qualquer detalhe de linha de fatura que tenha sido criado a partir de uma entrada de tempo ou despesa irá referenciar um valor real de vendas não faturadas.) Os sistemas de integração do razão geral podem utilizar esta reversão para reverter o trabalho do projeto em curso (WIP) para fins de contabilidade.</span><span class="sxs-lookup"><span data-stu-id="e49f5-170">(Any invoice line detail that was created from a time or expense entry will reference an unbilled sales actual.) General ledger integration systems can use this reversal to reverse project work in progress (WIP) for accounting purposes.</span></span>

### <a name="correct-a-confirmed-invoice"></a><span data-ttu-id="e49f5-171">Corrigir uma fatura confirmada</span><span class="sxs-lookup"><span data-stu-id="e49f5-171">Correct a confirmed invoice</span></span>

<span data-ttu-id="e49f5-172">As faturas confirmadas podem ser editadas (corrigidas).</span><span class="sxs-lookup"><span data-stu-id="e49f5-172">Confirmed invoices can be edited (corrected).</span></span> <span data-ttu-id="e49f5-173">Quando corrige uma fatura confirmada, uma nova fatura corretiva de rascunho é criada.</span><span class="sxs-lookup"><span data-stu-id="e49f5-173">When you correct a confirmed invoice, a new draft corrective invoice is created.</span></span> <span data-ttu-id="e49f5-174">Dado que a pressuposição é que pretende reverter todas as transações e quantidades da fatura original, esta fatura corretiva inclui todas as transações da fatura original e todas as quantidades são 0 (zero).</span><span class="sxs-lookup"><span data-stu-id="e49f5-174">Because the assumption is that you want to reverse all the transactions and quantities from the original invoice, this corrective invoice includes all the transactions from the original invoice, and all the quantities on it are 0 (zero).</span></span>

<span data-ttu-id="e49f5-175">Se alguma transação não necessitar de correção, pode removê-la da fatura corretiva de rascunho.</span><span class="sxs-lookup"><span data-stu-id="e49f5-175">If any transactions don't require correction, you can remove them from the draft corrective invoice.</span></span> <span data-ttu-id="e49f5-176">Se pretender reverter ou devolver apenas uma quantidade parcial, pode editar o campo **Quantidade** no detalhe de linha.</span><span class="sxs-lookup"><span data-stu-id="e49f5-176">If you want to reverse or return only a partial quantity, you can edit the **Quantity** field on the line detail.</span></span> <span data-ttu-id="e49f5-177">Se abrir o detalhe de linha de fatura, poderá ver a quantidade original da fatura.</span><span class="sxs-lookup"><span data-stu-id="e49f5-177">If you open the invoice line detail, you can see the original invoice quantity.</span></span> <span data-ttu-id="e49f5-178">Em seguida, pode editar a quantidade da fatura atual para que seja inferior ou superior à quantidade original da fatura.</span><span class="sxs-lookup"><span data-stu-id="e49f5-178">You can then edit the current invoice quantity so that it's less than or more than the original invoice quantity.</span></span>

<span data-ttu-id="e49f5-179">Quando confirma uma fatura corretiva, o valor real de vendas faturadas originais é revertido e é criado um novo valor real de vendas faturadas.</span><span class="sxs-lookup"><span data-stu-id="e49f5-179">When you confirm a corrective invoice, the original billed sales actual is reversed, and a new billed sales actual is created.</span></span> <span data-ttu-id="e49f5-180">Se a quantidade tiver sido reduzida, a diferença causará a criação de um novo valor real de vendas não faturadas.</span><span class="sxs-lookup"><span data-stu-id="e49f5-180">If the quantity was reduced, the difference will cause a new unbilled sales actual to be created too.</span></span> <span data-ttu-id="e49f5-181">Por exemplo, se a venda faturada original era de oito horas e o detalhe de linha de fatura corretiva tiver uma quantidade reduzida de seis horas, a linha de vendas faturadas originais é invertida e são criados dois novos valores reais:</span><span class="sxs-lookup"><span data-stu-id="e49f5-181">For example, if the original billed sale was for eight hours, and the corrective invoice line detail has a reduced quantity of six hours, the original billed sales line is reversed and two new actuals are created:</span></span>

- <span data-ttu-id="e49f5-182">Um valor real de vendas faturadas durante seis horas.</span><span class="sxs-lookup"><span data-stu-id="e49f5-182">A billed sales actual for six hours.</span></span>
- <span data-ttu-id="e49f5-183">Uma valor real de vendas não faturadas para as duas horas restantes.</span><span class="sxs-lookup"><span data-stu-id="e49f5-183">An unbilled sales actual for the remaining two hours.</span></span> <span data-ttu-id="e49f5-184">Esta transação pode ser faturada mais tarde ou marcada como não faturável, dependendo das negociações com o cliente.</span><span class="sxs-lookup"><span data-stu-id="e49f5-184">This transaction can either be billed later or marked as non-chargeable, depending on the negotiations with the customer.</span></span>


[!INCLUDE[footer-include](../includes/footer-banner.md)]
